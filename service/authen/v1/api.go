// Code generated by lark suite oapi sdk gen
package v1

import (
	"github.com/larksuite/oapi-sdk-go/api"
	"github.com/larksuite/oapi-sdk-go/api/core/request"
	"github.com/larksuite/oapi-sdk-go/core"
	"github.com/larksuite/oapi-sdk-go/core/config"
)

type Service struct {
	conf    *config.Config
	Authens *AuthenService
}

func NewService(conf *config.Config) *Service {
	s := &Service{
		conf: conf,
	}
	s.Authens = newAuthenService(s)
	return s
}

type AuthenService struct {
	service *Service
}

func newAuthenService(service *Service) *AuthenService {
	return &AuthenService{
		service: service,
	}
}

type AuthenAccessTokenReqCall struct {
	ctx     *core.Context
	authens *AuthenService
	body    *AuthenAccessTokenReqBody
	optFns  []request.OptFn
}

func (rc *AuthenAccessTokenReqCall) Do() (*UserAccessTokenInfo, error) {
	var result = &UserAccessTokenInfo{}
	req := request.NewRequest("/open-apis/authen/v1/access_token", "POST",
		[]request.AccessTokenType{request.AccessTokenTypeApp}, rc.body, result, rc.optFns...)
	err := api.Send(rc.ctx, rc.authens.service.conf, req)
	return result, err
}

func (authens *AuthenService) AccessToken(ctx *core.Context, body *AuthenAccessTokenReqBody, optFns ...request.OptFn) *AuthenAccessTokenReqCall {
	return &AuthenAccessTokenReqCall{
		ctx:     ctx,
		authens: authens,
		body:    body,
		optFns:  optFns,
	}
}

type AuthenRefreshAccessTokenReqCall struct {
	ctx     *core.Context
	authens *AuthenService
	body    *AuthenRefreshAccessTokenReqBody
	optFns  []request.OptFn
}

func (rc *AuthenRefreshAccessTokenReqCall) Do() (*UserAccessTokenInfo, error) {
	var result = &UserAccessTokenInfo{}
	req := request.NewRequest("/open-apis/authen/v1/refresh_access_token", "POST",
		[]request.AccessTokenType{request.AccessTokenTypeApp}, rc.body, result, rc.optFns...)
	err := api.Send(rc.ctx, rc.authens.service.conf, req)
	return result, err
}

func (authens *AuthenService) RefreshAccessToken(ctx *core.Context, body *AuthenRefreshAccessTokenReqBody, optFns ...request.OptFn) *AuthenRefreshAccessTokenReqCall {
	return &AuthenRefreshAccessTokenReqCall{
		ctx:     ctx,
		authens: authens,
		body:    body,
		optFns:  optFns,
	}
}

type AuthenUserInfoReqCall struct {
	ctx     *core.Context
	authens *AuthenService
	optFns  []request.OptFn
}

func (rc *AuthenUserInfoReqCall) Do() (*UserInfo, error) {
	var result = &UserInfo{}
	req := request.NewRequest("/open-apis/authen/v1/user_info", "GET",
		[]request.AccessTokenType{request.AccessTokenTypeUser}, nil, result, rc.optFns...)
	err := api.Send(rc.ctx, rc.authens.service.conf, req)
	return result, err
}

func (authens *AuthenService) UserInfo(ctx *core.Context, optFns ...request.OptFn) *AuthenUserInfoReqCall {
	return &AuthenUserInfoReqCall{
		ctx:     ctx,
		authens: authens,
		optFns:  optFns,
	}
}
